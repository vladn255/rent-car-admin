(this["webpackJsonprent-car-admin"]=this["webpackJsonprent-car-admin"]||[]).push([[0],{126:function(e,t,n){},248:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(43),i=n.n(c),o=n(25),s=(n(126),n(34)),l=n(4),d=n(265),u=n(266),j=n(113),b=Object(j.a)({palette:{text:{primary:"#3d5170"}},breakpoints:{values:{xs:0,sm:320,md:768,lg:1024,xl:1440}},props:{MuiButtonBase:{disableRipple:!0}}}),p="intern",h="intern-S!",x="/",m="/admin",O=n(261),f=n(267),g=n(262),v=n(263),y=n(264),_=n(112),N=n(51),w=n(2),k=function(e){var t=e.name,n=e.type,a=e.label,r=e.placeholder,c=e.value,i=void 0===c?"":c,o=e.auotofocus,s=void 0!==o&&o,l=e.isError,d=void 0===l?"":l,u=e.errorText,j=void 0===u?"":u,b=e.changeHandler,p=e.blurHandler;return Object(w.jsxs)("div",{className:"text-input",children:[Object(w.jsx)("label",{className:"text-input__label",htmlFor:t,children:a}),Object(w.jsx)("input",{className:"text-input__input ".concat(d?"text-input__input--error":""),type:n,name:t,id:t,value:i,placeholder:r,autoFocus:s,onChange:b,onBlur:p}),d&&Object(w.jsx)("span",{className:"text-input__error-text",children:j})]})},C=function(e){var t=e.title,n=e.type,a=e.addClasses,r=void 0===a?"":a,c=e.isDisabled,i=void 0!==c&&c,o=e.clickHandler;return Object(w.jsx)("button",{type:n,className:"".concat(r," button"),disabled:i,onClick:o,children:t})},E=n(64),z=n.n(E),H=n(109),B=n(36),S=n(110),A=n.n(S),T="https://api-factory.simbirsoft1.com/api",L="5e25c641099b810b946c5d5b",R=btoa("".concat("u5taw48o",":").concat("4cbcea96de")),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?"Bearer ".concat(e):"Basic ".concat(R)},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=A.a.create({headers:{"X-Api-Factory-Application-Id":L,Authorization:F(e),"Content-Type":"application/json"},baseURL:T,timeout:2e4}),n=function(e){return e},a=function(e){throw e};return t.interceptors.response.use(n,a),t}(),D=function(){return I.post("/auth/login",JSON.stringify({username:p,password:h})).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},J=Object(B.b)("auth/fetchAuthorization",Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,e.abrupt("return",t.access_token);case 4:case"end":return e.stop()}}),e)})))),M=Object(B.c)({name:"auth",initialState:{authorized:!1,accessToken:null,loading:"idle",loadingError:!1},reducers:{setAuthorized:function(e,t){e.authorized=t.payload},setLoadingErrorStatus:function(e,t){e.loadingError=t.payload}},extraReducers:function(e){e.addCase(J.pending,(function(e){e.loading="pending"})),e.addCase(J.fulfilled,(function(e,t){e.loading="idle",e.authorized=!0,e.accessToken=t.payload})),e.addCase(J.rejected,(function(e){e.loadingError=!0}))}}),W=M.actions,q=(W.setAuthorized,W.setLoadingErrorStatus,M.reducer),V="email",G="email",U="\u041f\u043e\u0447\u0442\u0430",X="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 e-mail",K="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",P=!0,Q="password",Y="password",Z="\u041f\u0430\u0440\u043e\u043b\u044c",$="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",ee="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",te=N.a().shape({email:N.b().email().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail"),password:N.b().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c")}),ne=function(){var e=Object(l.g)(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.auth.loadingError})),r=Object(o.c)((function(e){return e.auth.authorized}));Object(a.useEffect)((function(){}),[n,r]);var c=function(){t(J())};return Object(w.jsx)(_.a,{initialValues:{email:"",password:""},validateOnBlur:!0,onSubmit:c,validationSchema:te,children:function(t){var a=t.values,i=t.errors,o=t.touched,s=t.handleChange,l=t.handleBlur,d=t.isValid,u=t.dirty;return Object(w.jsxs)("fieldset",{className:"login-form",children:[Object(w.jsx)("legend",{className:"login-form__legend",children:"\u0412\u0445\u043e\u0434"}),Object(w.jsx)(k,{name:V,type:G,label:U,placeholder:X,value:a.email,auotofocus:P,isError:o.email&&i.email,errorText:K,changeHandler:s,blurHandler:l}),Object(w.jsx)(k,{name:Q,type:Y,label:Z,placeholder:$,value:a.password,isError:o.password&&i.password,errorText:ee,changeHandler:s,blurHandler:l}),Object(w.jsxs)("div",{className:"login-form__buttons-wrapper",children:[Object(w.jsx)(C,{title:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f",type:"submit",addClasses:"login-form__access-button",isDisabled:r,clickHandler:function(){return c()}}),Object(w.jsx)(C,{title:"\u0412\u043e\u0439\u0442\u0438",type:"button",addClasses:"login-form__submit-button",isDisabled:!d||!u||!r,clickHandler:function(){e.push(m)}})]}),n&&Object(w.jsx)("p",{className:"login-form__error",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"})]})}})},ae=n.p+"static/media/logo-Icon.42a15795.svg",re=n(260),ce=n(269),ie=Object(re.a)((function(){return Object(ce.a)({root:{marginTop:"20%",padding:"0"},maxWidthLg:{maxWidth:"376px"}})})),oe=Object(re.a)((function(){return Object(ce.a)({root:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"16px"}})})),se=Object(re.a)((function(){return Object(ce.a)({root:{padding:"20px 18px"},rounded:{borderRadius:"9px"}})})),le=Object(re.a)((function(){return Object(ce.a)({body1:{fontSize:"24px",lineHeight:"28px"}})})),de=Object(re.a)((function(){return Object(ce.a)({root:{width:"45px",height:"45px",marginRight:"11px"}})})),ue=function(){var e=se(),t=e.root,n=e.rounded,a=ie(),r=a.root,c=a.maxWidthLg,i=le().body1,o=oe().root,s=de().root;return Object(w.jsxs)(O.a,{component:"main",className:"".concat(r," ").concat(c),children:[Object(w.jsxs)(f.a,{className:"".concat(o),children:[Object(w.jsx)(g.a,{component:"div",className:"".concat(s),children:Object(w.jsx)("img",{src:ae,height:45,width:45,alt:"Logo icon"})}),Object(w.jsx)(v.a,{component:"h1",align:"center",className:"".concat(i),children:"Need for drive"})]}),Object(w.jsx)(y.a,{className:"".concat(t," ").concat(n),children:Object(w.jsx)(ne,{})})]})},je=function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"404 NotFound"}),Object(w.jsx)(s.b,{to:m,children:Object(w.jsx)("span",{children:"Go to main page"})})]})},be=function(e){var t=e.render,n=e.path,a=e.exact,r=Object(o.c)((function(e){return e.auth.authorized}));return Object(w.jsx)(l.b,{path:n,exact:a,render:function(e){return!0===r?t(e):Object(w.jsx)(l.a,{to:x})}})},pe=function(){return Object(w.jsx)("h1",{children:"Main page is under construction at the moment"})},he=function(){return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(d.a,{}),Object(w.jsx)(u.a,{theme:b,children:Object(w.jsx)(s.a,{children:Object(w.jsxs)(l.d,{children:[Object(w.jsx)(l.b,{exact:!0,path:x,children:Object(w.jsx)(ue,{})}),Object(w.jsx)(be,{exact:!0,path:m,render:function(){return Object(w.jsx)(pe,{})}}),Object(w.jsx)(l.b,{children:Object(w.jsx)(je,{})})]})})})]})},xe=Object(B.a)({reducer:{auth:q}});i.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(o.a,{store:xe,children:Object(w.jsx)(he,{})})}),document.getElementById("root"))}},[[248,1,2]]]);
//# sourceMappingURL=main.5fe8198a.chunk.js.map